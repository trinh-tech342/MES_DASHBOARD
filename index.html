<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MES PRO | Advanced Manufacturing System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="glass-bg"></div>
    <div class="container">
        <header class="main-header">
            <div class="logo">‚ö° MES<span>PRO</span></div>
            <div class="status-workflow">
                <span id="badge-supervisor" class="badge active">QU·∫¢N ƒê·ªêC</span>
                <span class="connector"></span>
                <span id="badge-operator" class="badge">S·∫¢N XU·∫§T</span>
                <span class="connector"></span>
                <span id="badge-qc" class="badge">KI·ªÇM ƒê·ªäNH</span>
            </div>
        </header>

        <main class="dashboard-grid">
            <section class="glass-card section-1">
                <div class="card-head">
                    <span class="step-num">01</span>
                    <h3>Kh·ªüi t·∫°o L√¥ & ƒê∆°n h√†ng</h3>
                </div>
                <div class="input-row">
                    <div class="field">
                        <label>M√£ s·ªë L√¥</label>
                        <input type="text" id="batchID" placeholder="BATCH-2026-001">
                    </div>
                    <div class="field">
                        <label>M√£ ƒê∆°n h√†ng</label>
                        <input type="text" id="orderID" placeholder="ORD-9921">
                    </div>
                </div>
                <div class="field" style="margin-top: 20px;">
                    <label>S·∫¢N PH·∫®M (SKU)</label>
                    <input type="text" id="skuID" placeholder="T√™n s·∫£n ph·∫©m / SKU">
                </div>
                <button onclick="initBatch()" class="btn-glow primary">K√çCH HO·∫†T H·ªí S∆†</button>
            </section>

            <section class="glass-card section-2">
                <div class="card-head">
                    <span class="step-num">02</span>
                    <h3>Nh·∫≠t k√Ω V·∫≠n h√†nh & S·∫£n xu·∫•t</h3>
                </div>
                <div class="selection-group">
                    <select id="activeBatches" onchange="loadBatchData(this.value)">
                        <option value="">-- CH·ªåN L√î ƒêANG V·∫¨N H√ÄNH --</option>
                    </select>
                </div>
                <div class="table-wrapper">
                    <table class="luxury-table">
                        <thead>
                            <tr>
                                <th>C√îNG ƒêO·∫†N</th>
                                <th>NGUY√äN LI·ªÜU</th>
                                <th>L√î RM</th>
                                <th>INPUT</th>
                                <th>GHI CH√ö</th>
                            </tr>
                        </thead>
                        <tbody id="outputBody"></tbody>
                    </table>
                </div>
                <div class="card-actions">
                    <button onclick="addRow('outputBody')" class="btn-outline">+ TH√äM D√íNG</button>
                    <button onclick="saveProduction()" class="btn-glow orange">L∆ØU D·ªÆ LI·ªÜU</button>
                </div>
            </section>

            <section class="glass-card section-3">
                <div class="card-head">
                    <span class="step-num">03</span>
                    <h3>Ki·ªÉm ƒë·ªãnh Ch·∫•t l∆∞·ª£ng (QC)</h3>
                </div>
                <div class="qc-grid">
                    <select id="pqcStatus" class="minimal-select">
                        <option value="Pending">üïí CH·ªú KI·ªÇM TRA</option>
                        <option value="Pass">‚úÖ ƒê·∫†T (PASS)</option>
                        <option value="Fail">‚ùå L·ªñI (FAIL)</option>
                    </select>
                    <textarea id="qcNote" placeholder="Ghi ch√∫ th·∫©m ƒë·ªãnh..."></textarea>
                </div>
                <button onclick="finalizeQC()" class="btn-glow success">X√ÅC NH·∫¨N HO√ÄN TH√ÄNH</button>
            </section>

            <section class="glass-card section-pdf">
                <div class="card-head">
                    <h3>Truy xu·∫•t & In H·ªì s∆°</h3>
                </div>
                <div class="search-flex">
                    <input type="text" id="searchId" placeholder="Nh·∫≠p Batch ID...">
                    <button onclick="exportBatchPDF()" class="btn-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
                        T·∫¢I PDF
                    </button>
                </div>
            </section>
        </main>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.autotable.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
